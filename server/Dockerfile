FROM python:3
ENV APP /app
RUN mkdir $APP
WORKDIR $APP
EXPOSE 5000
COPY requirements.txt .
RUN pip install -r requirements.txt
ARG DB_CONN_STRING
ARG JWT_SECRET
ARG FLASK_SECRET
ARG ENVIRONMENT
ENV DB_CONN_STRING=${DB_CONN_STRING}
ENV JWT_SECRET=${JWT_SECRET}
ENV FLASK_SECRET=${FLASK_SECRET}
ENV ENVIRONMENT=${ENVIRONMENT}
COPY . .
RUN ["chmod", "+x", "/app/entrypoint.sh"]
